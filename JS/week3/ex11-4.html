<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>움직이는 볼</title>
    <style>
        canvas{
            background-color: yellow; border: 1px dotted black;
            width:300px; height:200px;
        }
    </style>
</head>
<body>
    <h3>움직이는 볼</h3>
    <hr>
    <canvas id ="myCanvas"></canvas>
    <script>
        let canvas = document.getElementById("myCanvas");
        let context = canvas.getContext("2d");
        let dx = 5;
        let dy = 5;
        let x = 100;
        let y = 100;
        fn_draw=()=>{
            context.clearRect(0,0,canvas.width,canvas.height);
            context.beginPath();
            context.fillStyle ='red'
            //원 그리는 함수
            // 100,100위치에 /20크기 원을 /0부터 시작해서 /한바퀴/ 시계방향으로
            context.arc(x,y,20,0,Math.PI*2,true)
            context.closePath();
            context.fill();
            if(x<20 || x>280){
                dx = -dx;
            }
            if(y<20 || y>180){
                dy = -dy
            }
            x += dx;
            y += dy;
            requestAnimationFrame(fn_draw);
            console.log("움직임")
        }
        // ex6 문법에 생긴 메서드 브라우저의 그래픽 처리를 자연스럽게 동기화함
        // (다른 탭에 있으면 실행 안함)
        requestAnimationFrame(fn_draw);
        
        //setInterval(fn_draw,20)
    </script>
</body>
</html>