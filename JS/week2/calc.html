<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>계산기</title>
    <link rel="styleSheet" href="./css/calc.css">
    <script>
        // onload 문서 로드를 완료했을 때 이벤트 리스너
        window.onload =()=>{
            //
            // window.document.body
            // root window 객체
            // 하위에 document가 있으며 그 하위에 body가 있음(항상)
            document.body.onkeypress=function(e){
                let divId = document.getElementById("view");

                console.log(e)
                console.log(e.key)
                if(e.key=='Enter'){
                    divId.innerHTML += "="+eval(divId.innerHTML);
                    console.log("계산");
                }
                else if(!isNaN(e.key) || e.key=='+'||e.key=='-'||e.key=='*'){
                    divId.innerHTML += e.key
                    console.log("화면에 출력");
                }
            }
        }
        function fn_click(obj){
            let divId = document.getElementById("view");
            let text = obj.innerHTML;
            if(text == '='){
                divId.innerHTML += text + eval(divId.innerHTML)
            }else{
                divId.innerHTML += text;
            }
        }
    </script>

</head>
<body>
    <div class="calculator">
        <span id="view"></span>
        <table>
            <tr>
                <td><button onclick="fn_click(this)">1</button></td>
                <td><button onclick="fn_click(this)">2</button></td>
                <td><button onclick="fn_click(this)">3</button></td>
                <td><button onclick="fn_click(this)">+</button></td>
            </tr>
            <tr>
                <td><button onclick="fn_click(this)">4</button></td>
                <td><button onclick="fn_click(this)">5</button></td>
                <td><button onclick="fn_click(this)">6</button></td>
                <td><button onclick="fn_click(this)">-</button></td>
            </tr>
            <tr>
                <td><button onclick="fn_click(this)">7</button></td>
                <td><button onclick="fn_click(this)">8</button></td>
                <td><button onclick="fn_click(this)">9</button></td>
                <td><button onclick="fn_click(this)">=</button></td>
            </tr>
        </table>
    </div> 
</body>
</html>